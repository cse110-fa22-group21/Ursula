<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>log.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="InvalidTime.html">InvalidTime</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addLog">addLog</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addTask">addTask</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#addTaskToDocument">addTaskToDocument</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#count">count</a></span></li><li class="nav-item"><span class="nav-item-type type-member">M</span><span class="nav-item-name"><a href="global.html#data">data</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#deleteTaskById">deleteTaskById</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#endSwitch">endSwitch</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#generateUniqueID">generateUniqueID</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#getTasksFromStorage">getTasksFromStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#initFormHandler">initFormHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#openEditForm">openEditForm</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveData">saveData</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#saveTaskToStorage">saveTaskToStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#startSwitch">startSwitch</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">log.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Run the init() function when the page has loaded

// Global Variables
/**
 * @type {Array}
 */
var count = 0;
var maxFull = false;

window.addEventListener("DOMContentLoaded", init);

// Starts the task program, all function calls trace back here
function init() {
	let taskList = getTasksFromStorage();
	for (let i = 0; i &lt; taskList.length; i++) {
		if (taskList[i].status == "Completed") {
			addLog(taskList[i]);
			if (count &lt; 100) {
				//max value of stack : 99
				count++;
			} else {
				maxFull = true;
			}
		}
	}
}

/**
 * Reads 'tasks' from localStorage and returns an array of
 * all of the tasks found. If nothing is found in localStorage for
 * 'tasks', an empty array is returned.
 * @returns {Array&lt;Object>} An array of recipes found in localStorage
 */
function getTasksFromStorage() {
	return JSON.parse(localStorage.getItem("tasks")) || [];
}

/**
 * Populate the table using the data object.
 *
 * @param {Object} data - The data to pass into the &lt;task>, must be of the
 *                        following format:
 *                        {
 *                          "id": "number",
 *                          "name": "string",
 *                          "hours": "number",
 *                          "minutes": "number",
 *                          "type": "string",
 *                          "status": "string",
 *                          "notes": "string",
 *                          "start": "object",
 *                          "end": "object",
 *                          "difference": "number",
 *                          "started" : "boolean"
 *                        }
 */
function addLog(data) {
	// Extract end date which is in milliseconds, change to date
	let endTime = Date.parse(data.end);
	let endDate = new Date(endTime);
	// if there are not 100 tasks yet, display on the page
	if (!maxFull) {
		// populate data in the table
		const tableRow = document.createElement("tr");
		// The information from data is added following the below format
		tableRow.innerHTML = `&lt;td>${data.name}&lt;/td>
        &lt;td>${data.type}&lt;/td>
        &lt;td>${endDate}&lt;/td>
        &lt;/td>`;
		document.body.querySelector("tbody").append(tableRow);
	}
	// if there are more than 100 tasks, delete the first old tasks
	else {
		const tableRow = document.createElement("tr");
		// The information from data is added following the below format
		tableRow.innerHTML = `&lt;td>${data.name}&lt;/td>
        &lt;td>${data.type}&lt;/td>
        &lt;td>${endDate}&lt;/td>
        &lt;/td>`;
		document.body.querySelector("tbody").append(tableRow);
		// delete old tasks
		document.body.querySelector("tbody").querySelector("tr").remove();
	}
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Fri Dec 02 2022  GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
